(this["webpackJsonpcovid-19-tracker"]=this["webpackJsonpcovid-19-tracker"]||[]).push([[0],{106:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},258:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(8),r=n.n(s),i=(n(106),n(25)),o=n.n(i),l=n(41),u=n(11),d=(n(108),n(23)),j=(n(109),n(289)),f=n(293),h=n(294),b=n(3);var v=function(e){var t=e.title,n=e.cases,c=e.active,a=e.isRed,s=e.total,r=Object(d.a)(e,["title","cases","active","isRed","total"]);return Object(b.jsx)(j.a,{onClick:r.onClick,className:"infoBox ".concat(c&&"infoBox--selected"," ").concat(a&&"infoBox--red"),children:Object(b.jsxs)(f.a,{children:[Object(b.jsx)(h.a,{className:"infoBox__title",color:"textSecondary",children:t}),Object(b.jsx)("h2",{className:"infoBox__cases ".concat(!a&&"infoBox__cases--green"),children:n}),Object(b.jsxs)(h.a,{className:"infoBox__total",children:["Total: ",s]})]})})},O=(n(115),n(296)),p=n(297),x=n(305),m=n(93),g=n(15),y=n.n(g),C=n(304),w=n(295),N={cases:{hex:"#CC1034",rgb:"rgb(204, 16, 52)",half_op:"rgba(204, 16, 52, 0.5)",multiplier:400},recovered:{hex:"#7dd71d",rgb:"rgb(125, 215, 29)",half_op:"rgba(125, 215, 29, 0.5)",multiplier:500},deaths:{hex:"#fb4443",rgb:"rgb(251, 68, 67)",half_op:"rgba(251, 68, 67, 0.5)",multiplier:2e3}},_=function(e){var t=Object(m.a)(e);return t.sort((function(e,t){return e.cases>t.cases?-1:1})),t},k=function(e){return e?"+".concat(y()(e).format("0.0a")):"+0"},S=function(e,t){return e.map((function(e){return Object(b.jsx)(C.a,{center:[e.countryInfo.lat,e.countryInfo.long],pathOptions:{color:N[t].hex,fillColor:N[t].hex},fillOpacity:.4,radius:Math.sqrt(e[t])*N[t].multiplier,children:Object(b.jsx)(w.a,{className:"info-container",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"info-flag",children:Object(b.jsx)("img",{className:"flag",src:e.countryInfo.flag,alt:"flag"})}),Object(b.jsxs)("div",{className:"info-country",children:[Object(b.jsx)("div",{className:"info-name",children:Object(b.jsx)("b",{children:e.country})}),Object(b.jsxs)("div",{className:"info-confirmed",children:["Cases: ",y()(e.cases).format("0,0")]}),Object(b.jsxs)("div",{className:"info-recovered",children:["Recovered: ",y()(e.recovered).format("0,0")]}),Object(b.jsxs)("div",{className:"info-deaths",children:["Deaths: ",y()(e.deaths).format("0,0")]})]})]})})})}))};function R(e){var t=e.center,n=Object(O.a)();return n.setView(t,n.getZoom()),null}var B=function(e){var t=e.center,n=e.casesType,c=e.countries;return Object(b.jsx)("div",{className:"map",children:Object(b.jsxs)(p.a,{center:t,zoom:4,children:[Object(b.jsx)(x.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),Object(b.jsx)(R,{center:t}),S(c,n)]})})};n(116);var I=function(e){var t=e.countries;return Object(b.jsx)("div",{className:"table",children:t.map((function(e){var t=e.country,n=e.cases;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t}),Object(b.jsx)("strong",{children:y()(n).format("0,0")})]})}))})},T=n(92),D={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return y()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,n){return y()(e).format("0a")}}}]}},E=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases",c=[];for(var a in e.cases){if(t){var s={x:a,y:e[n][a]-t};c.push(s)}t=e[n][a]}return c};var F=function(e){var t=e.casesType,n=Object(c.useState)({}),a=Object(u.a)(n,2),s=a[0],r=a[1];return Object(c.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/historical/all?lastdays=100").then((function(e){return e.json()})).then((function(e){var n=E(e,t);r(n)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(b.jsx)("div",{children:(null===s||void 0===s?void 0:s.length)>0&&Object(b.jsx)(T.Line,{data:{datasets:[{backgroundColor:"rgba(204, 16, 52, 0.5)",borderColor:"#CC1034",data:s}]},options:D})})},L=(n(256),n(298)),M=n(303),A=n(301),z=n(302);var J=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(["worldwide"]),r=Object(u.a)(s,2),i=r[0],d=r[1],h=Object(c.useState)({}),O=Object(u.a)(h,2),p=O[0],x=O[1],m=Object(c.useState)([]),g=Object(u.a)(m,2),y=g[0],C=g[1],w=Object(c.useState)({lat:34.80764,lng:-40.4796}),N=Object(u.a)(w,2),S=N[0],R=N[1],T=Object(c.useState)([]),D=Object(u.a)(T,2),E=D[0],J=D[1],P=Object(c.useState)("cases"),V=Object(u.a)(P,2),W=V[0],Y=V[1];Object(c.useEffect)((function(){fetch("https://disease.sh/v3/covid-19/all").then((function(e){return e.json()})).then((function(e){x(e)}))}),[]),Object(c.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{name:e.country,value:e.countryInfo.iso2}})),n=_(e);C(n),a(t),J(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var q=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.target.value,n.some((function(e){return e.name===c}))&&(a=n.find((function(e){return e.name===c})),c=a.value),!n.some((function(e){return e.value===c}))&&"worldwide"!==c){e.next=7;break}return console.log(c),s="worldwide"===c?"https://disease.sh/v3/covid-19/countries":"https://disease.sh/v3/covid-19/countries/".concat(c),e.next=7,fetch(s).then((function(e){return e.json()})).then((function(e){if("worldwide"===c)return J(e),void fetch("https://disease.sh/v3/covid-19/all").then((function(e){return e.json()})).then((function(e){x(e)}));d(c),x(e);var t=[];t.push(e),J(t),R([e.countryInfo.lat,e.countryInfo.long])}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"app",children:[Object(b.jsxs)("div",{className:"app__left",children:[Object(b.jsxs)("div",{className:"app__header",children:[Object(b.jsx)("h1",{children:"COVID-19 TRACKER"}),Object(b.jsx)(L.a,{className:"app__searchfield",children:Object(b.jsx)(M.a,{id:"standard-basic",label:"Search Country",onChange:q})}),Object(b.jsx)(L.a,{className:"app__dropdown",children:Object(b.jsxs)(A.a,{variant:"outlined",onChange:q,value:i,children:[Object(b.jsx)(z.a,{value:"worldwide",children:"Worldwide"}),n.map((function(e){return Object(b.jsx)(z.a,{value:e.value,children:e.name})}))]})})]}),Object(b.jsxs)("div",{className:"app__stats",children:[Object(b.jsx)(v,{isRed:!0,active:"cases"===W,onClick:function(e){return Y("cases")},title:"Coronavirus cases",cases:k(p.todayCases),total:p.cases}),Object(b.jsx)(v,{active:"recovered"===W,onClick:function(e){return Y("recovered")},title:"Recovered",cases:k(p.todayRecovered),total:p.recovered}),Object(b.jsx)(v,{isRed:!0,active:"deaths"===W,onClick:function(e){return Y("deaths")},title:"Deaths",cases:k(p.todayDeaths),total:p.deaths})]}),Object(b.jsx)(B,{casesType:W,center:S,countries:E})]}),Object(b.jsx)(j.a,{className:"app__right",children:Object(b.jsxs)(f.a,{children:[Object(b.jsxs)("div",{className:"dataTable",children:[Object(b.jsx)("h3",{children:"Live Cases by Country"}),Object(b.jsx)(I,{countries:y})]}),Object(b.jsxs)("div",{className:"lineGraph",children:[Object(b.jsxs)("h3",{children:["Worldwide new ",W,"}"]}),Object(b.jsx)(F,{casesType:W})]})]})})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,307)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(J,{})}),document.getElementById("root")),P()}},[[258,1,2]]]);
//# sourceMappingURL=main.5e1a69e0.chunk.js.map